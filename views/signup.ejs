<!-- views/signup.ejs -->
<!doctype html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Judge Sign up / Management</title>
    <link rel="stylesheet" href="../vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../stylesheets/styles.css" type="text/css">
    <!--
    <style>
        body        { padding-top:80px; }
    </style>
    -->
</head>
<body>

<div class="body-center">

    <!-- User Management Section -->
    <h1><span class="fa fa-users"></span> Existing Users</h1>
    <table class="viewer-table">
        <thead>
        <tr>
            <th>Username</th>
            <th>Role</th>
            <th>Edit</th>
        </tr>
        </thead>
        <tbody>
        <% users.forEach(function(user) { %>
        <tr>
            <td><%= user.local.username %></td>
            <td><%= user.local.role %></td>
            <td><a href="/modify/<%- user._id %>" >EDIT <i class="fa fa-cog"></i></a></td>
        </tr>
        <% }); %>
        </tbody>

    </table>

    <h1><span class="fa fa-user-plus"></span> Create User</h1>

    <!-- show any messages that come back with authentication -->
    <% if (message.length > 0) { %>
        <div class="alert alert-danger"><%= message %></div>
    <% } %>

    <!-- Create User FORM -->
    <form action="/api/users" method="post">
        <div class="form-group">
            <label>Username</label>
            <input type="text" class="form-control" name="username">
        </div>
        <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control" name="password">
        </div>
        <div class="form-group">
            <label>Role</label>
            <select name="role">
                <option value="admin">Administrator</option>
                <option value="judge" selected>Standard Judge</option>
            </select>
        </div>

        <button type="submit" class="btn btn-warning btn-lg">Create User</button>
    </form>

    <hr>

    <p><a href="/logout">Log out</a> of <strong><%= username %></strong></p>
    <p>Go <a href="/">home</a>.</p>


</div>

</body>
</html>
